<!DOCTYPE html>
<html lang="fr" class="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Habiba Medics â€” Application mÃ©dicale complÃ¨te pour gestion de soins, patients, diagnostics, et outils cliniques" />
  <meta name="theme-color" content="#005fa3" />
  <title>ğŸ©º Habiba Medics</title>

  <link rel="icon" href="assets/habiba_medics.png" type="image/png" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="css/style.css" />

  <!-- Librairies -->
<script src="js/html2pdf.bundle.min.js" defer></script>
<script src="js/chart.min.js" defer></script>
<script type="module" src="app.js"></script>
</script>
</head>
<body>

<header class="site-header">
  <div class="container flex-header">
    <h1 class="logo"><span class="emoji-logo">ğŸ©º</span> Habiba Medics</h1>
    <style>
  .header-icons {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-top: 8px;
  }
  .header-icons img {
    height: 26px;
  }
</style>
<div class="header-icons">
  <img src="assets/idaksahak_round.png" alt="Idaksahak" />
  <img src="assets/stylo.png" alt="Stylo" />
</div>
    <button id="theme-toggle" aria-label="Basculer thÃ¨me">ğŸŒ™</button>
  </div>
</header>
<nav class="main-nav" role="navigation">
  <ul class="nav-grid">

    <!-- Menu DÃ©couvres-moi -->
    <li class="dropdown">
      <button class="nav-btn">âœ¨ DÃ©couvres-moi</button>
      <ul class="dropdown-content">
        <li><a href="aide.html" class="nav-btn">ğŸ§­ Aide</a></li>
        <li><button data-target="habiba-studies" class="nav-btn">ğŸ“š Habiba Studies</button></li>
        <li><button data-target="habiba-playlist" class="nav-btn">ğŸ§ Habiba Playlist</button></li>
        
      </ul>
    </li>

    <!-- Menu Gestion des soins -->
    <li class="dropdown">
      <button class="nav-btn">ğŸ¥ Gestion des soins</button>
      <ul class="dropdown-content">
         <li><button data-target="patients" class="nav-btn">ğŸ‘¥ Patients</button></li>
        <li><button data-target="soins" class="nav-btn">ğŸ’‰ Soins</button></li>
        <li><button data-target="planning" class="nav-btn">ğŸ—“ï¸ Planning</button></li>
        <li><button data-target="reveil" class="nav-btn">â° RÃ©veil</button></li>
        <li><button data-target="inventaire" class="nav-btn">âš•ï¸ Inventaire</button></li>
        <li><button data-target="infos-generales" class="nav-btn">ğŸ“‹ Infos gÃ©nÃ©rales</button></li>
        <li><button data-target="infos-cliniques" class="nav-btn">ğŸ©º Infos cliniques</button></li>
        <li><button data-target="notes" class="nav-btn">ğŸ“ Notes</button></li>
      </ul>
    </li>
  </ul>

  <div style="text-align:center; margin-top:1rem;">
    <button id="install-trigger" class="btn-primary">ğŸ“² TÃ©lÃ©charger l'application</button>
  </div>
</nav>


<main class="main-container">
  <div id="notification" class="toast hidden" role="status" aria-live="polite"></div>
  <div id="content-area" class="tab-container">

<!-- HABIBA STUDIES -->
<section id="habiba-studies" class="tab-content hidden">
  <h2 class="tab-title">ğŸ“š Habiba Studies</h2>

  <div class="form-grid mb-4">
    <label for="study-pdf">Ajouter un cours PDF :</label>
    <input type="file" id="study-pdf" accept="application/pdf" />
    <div id="study-pdf-name" class="italic text-sm mt-1"></div>
  </div>
  <div style="text-align: center; margin-top: 1rem;">
  <a href="resumeur.html" target="_blank" class="btn-primary" style="padding: 0.6rem 1.2rem; font-size: 1rem; display: inline-block;">
    ğŸ§  RÃ©sumer ce cours PDF
  </a>
  </div>
</section>
    <section id="habiba-playlist" class="tab-content hidden">
  <h2 class="tab-title">ğŸ§ Habiba Playlist</h2>
  <p class="quote">Ta clinique audio. Apprends, Ã©coute, tÃ©lÃ©charge, rÃ©pÃ¨te !</p>

  <div class="form-grid">
    <label for="audio-category">Choisir une catÃ©gorie :</label>
    <select id="audio-category" class="input-field">
      <option value="all">Toutes</option>
      <option value="anatomie">ğŸ©» Anatomie</option>
      <option value="physiologie">ğŸ§  Physiologie</option>
      <option value="cardio">â¤ï¸ Cardio</option>
    </select>
  </div>

  <div class="playlist-block" id="audio-list"></div>
    </section>

<!-- SECTION RÃ‰VEIL -->
<section id="reveil" class="tab-content hidden">
  <h2 class="tab-title">â° RÃ©veil personnalisÃ©</h2>
  <div class="form-grid">
    <label for="alarm-time-custom">Heure de rÃ©veil</label>
    <input type="time" id="alarm-time-custom" />
    <label for="alarm-sound">Son du rÃ©veil</label>
    <select id="alarm-sound">
      <option value="sounds/beep.mp3">ğŸ”” Bip classique</option>
      <option value="sounds/birds.mp3">ğŸ¦ Oiseaux</option>
      <option value="sounds/ocean.mp3">ğŸŒŠ Vagues de lâ€™ocÃ©an</option>
      <option value="sounds/zen.mp3">ğŸ§˜â€â™€ï¸ Son Zen</option>
    </select>
    <button id="set-custom-alarm" class="btn-primary">â° Activer le rÃ©veil</button>
  </div>
</section>

<!-- ACCUEIL -->
<section id="accueil" class="tab-content">
  <h2 class="tab-title">ğŸ  Accueil</h2>
  <p class="quote">Â« Je nâ€™ai pas choisi la mÃ©decine, câ€™est elle qui mâ€™a choisi. Â»</p>
</section>

<!-- NOTES -->
<section id="notes" class="tab-content hidden">
  <h2 class="tab-title">ğŸ“ Notes, Recherches & Aide IA</h2>
  <textarea id="notes_contenu" rows="8" class="input-field mb-4" placeholder="Ã‰crivez ici vos observations, cours, symptÃ´mes..."></textarea>
  <div class="flex flex-wrap gap-4 mt-2">
    <button id="save-notes" class="btn-primary">ğŸ’¾ Sauvegarder</button>
    <button id="restore-notes" class="btn-secondary">â™»ï¸ Restaurer sauvegarde</button>
    <button id="notes_google_search" class="btn-warning">ğŸ” Rechercher sur Google</button>
    <button id="notes_symptom_analyze" class="btn-gpt">ğŸ§ª Analyser les symptÃ´mes</button>
  </div>
  <div id="notes_symptom_results" class="results-block mt-3"></div>
  <div id="notes_gpt_response" class="results-block italic text-indigo-600 dark:text-indigo-300"></div>
</section>
    
<!-- INFORMATIONS GÃ‰NÃ‰RALES -->
<section id="infos-generales" class="tab-content hidden" aria-labelledby="Infos gÃ©nÃ©rales">
  <h2 class="tab-title">ğŸ“‹ Informations GÃ©nÃ©rales</h2>
  <form id="form-infos-generales" class="form-block">
    <label for="infos_nom">Nom</label>
    <input type="text" id="infos_nom" class="input-field" />
    <label for="infos_prenom">PrÃ©nom</label>
    <input type="text" id="infos_prenom" class="input-field" />
    <label for="infos_naissance">Date de naissance</label>
    <input type="date" id="infos_naissance" class="input-field" />
    <label for="infos_sexe">Sexe</label>
    <select id="infos_sexe" class="input-field">
      <option value="">-- Choisir --</option>
      <option value="M">Masculin</option>
      <option value="F">FÃ©minin</option>
    </select>
    <label for="infos_tel">TÃ©lÃ©phone</label>
    <input type="tel" id="infos_tel" class="input-field" />
    <label for="infos_email">Email</label>
    <input type="email" id="infos_email" class="input-field" />
    <label for="infos_adresse">Adresse</label>
    <input type="text" id="infos_adresse" class="input-field" />
    <label for="infos_sang">Groupe sanguin</label>
    <input type="text" id="infos_sang" class="input-field" />
    <button type="submit" class="btn-primary">ğŸ’¾ Enregistrer</button>
  </form>
</section>
    
<!-- PATIENTS -->
<section id="patients" class="tab-content hidden" aria-labelledby="Patients">
  <h2 class="tab-title">ğŸ‘¥ Patients</h2>
  <form id="form-patient" class="form-grid">
    <fieldset>
      <legend>IdentitÃ©</legend>
      <label for="patient_nom">Nom</label>
      <input type="text" id="patient_nom" required />
      <label for="patient_prenom">PrÃ©nom</label>
      <input type="text" id="patient_prenom" required />
      <label for="patient_naissance">Date de naissance</label>
      <input type="date" id="patient_naissance" required />
      <label for="patient_sexe">Sexe</label>
      <select id="patient_sexe">
        <option value="">-- SÃ©lectionner --</option>
        <option value="M">Masculin</option>
        <option value="F">FÃ©minin</option>
      </select>
      <label for="patient_nationalite">NationalitÃ©</label>
      <input type="text" id="patient_nationalite" />
      <label for="patient_numero">NÂ° Dossier / ID</label>
      <input type="text" id="patient_numero" />
    </fieldset>

    <fieldset>
      <legend>Contact</legend>
      <label for="patient_tel">TÃ©lÃ©phone</label>
      <input type="tel" id="patient_tel" />
      <label for="patient_email">Email</label>
      <input type="email" id="patient_email" />
      <label for="patient_adresse">Adresse</label>
      <input type="text" id="patient_adresse" />
    </fieldset>

    <fieldset>
      <legend>Informations administratives</legend>
      <label for="patient_assurance">Assurance</label>
      <input type="text" id="patient_assurance" />
      <label for="patient_num_secu">NÂ° SÃ©curitÃ© sociale</label>
      <input type="text" id="patient_num_secu" />
    </fieldset>

    <fieldset>
      <legend>Contact d'urgence</legend>
      <label for="contact_urgence_nom">Nom</label>
      <input type="text" id="contact_urgence_nom" />
      <label for="contact_urgence_tel">TÃ©lÃ©phone</label>
      <input type="tel" id="contact_urgence_tel" />
      <label for="contact_urgence_lien">Lien avec le patient</label>
      <input type="text" id="contact_urgence_lien" />
    </fieldset>

    <label for="patient_remarques">Remarques</label>
    <textarea id="patient_remarques" rows="3"></textarea>
    <button type="submit" class="btn-primary">ğŸ’¾ Enregistrer</button>
  </form>
</section>
    
<!-- INFORMATIONS CLINIQUES -->
<section id="infos-cliniques" class="tab-content hidden" aria-labelledby="Infos cliniques">
  <h2 class="tab-title">ğŸ©º DonnÃ©es Cliniques</h2>
  <form id="form-infos-cliniques" class="form-block">
    <label for="cli_temperature">TempÃ©rature (Â°C)</label>
    <input type="text" id="cli_temperature" class="input-field" />

    <label for="cli_frequence_cardiaque">FrÃ©quence cardiaque (bpm)</label>
    <input type="text" id="cli_frequence_cardiaque" class="input-field" />

    <label for="cli_tension">Tension artÃ©rielle (mmHg)</label>
    <input type="text" id="cli_tension" class="input-field" />

    <label for="cli_frequence_respiratoire">FrÃ©quence respiratoire (/min)</label>
    <input type="text" id="cli_frequence_respiratoire" class="input-field" />

    <label for="cli_saturation">Saturation en Oâ‚‚ (%)</label>
    <input type="text" id="cli_saturation" class="input-field" />

    <label for="cli_poids">Poids (kg)</label>
    <input type="text" id="cli_poids" class="input-field" />

    <label for="cli_taille">Taille (cm)</label>
    <input type="text" id="cli_taille" class="input-field" />

    <label for="cli_imc">IMC</label>
    <input type="text" id="cli_imc" class="input-field" readonly />
    <div id="cli_imc_interpretation" class="text-sm mt-1 italic text-gray-600"></div>

    <button type="submit" class="btn-primary">ğŸ’¾ Sauvegarder</button>
  </form>
</section>
<!-- SOINS -->
<section id="soins" class="tab-content hidden" aria-labelledby="Soins">
  <h2 class="tab-title">ğŸ’‰ Soins</h2>
  <form id="form-soins" class="form-grid">
    <label for="soin_type">Type de soin</label>
    <input type="text" id="soin_type" placeholder="Ex : Injection, pansement, etc." />
    <label for="soin_date">Date</label>
    <input type="date" id="soin_date" />
    <label for="soin_notes">Notes sur le soin</label>
    <textarea id="soin_notes" rows="3"></textarea>
    <button type="submit" class="btn-primary">ğŸ’¾ Ajouter</button>
  </form>
</section>

<!-- PLANNING -->
<section id="planning" class="tab-content hidden" aria-labelledby="Planning">
  <h2 class="tab-title">ğŸ—“ï¸ Planning mÃ©dical</h2>
  <div class="form-grid">
    <label for="planning_alarm_time">DÃ©finir une alarme</label>
    <input type="time" id="planning_alarm_time" />
    <button id="set-planning-alarm" class="btn-primary">â° Activer l'alarme</button>
  </div>

  <div class="chart-block">
    <canvas id="planningTimerChart" height="180"></canvas>
    <div id="planning-countdown" class="text-center countdown-display"></div>
    <div class="btn-group">
      <button id="start-planning-timer" class="btn-green">â–¶ï¸ DÃ©marrer</button>
      <button id="reset-planning-timer" class="btn-red">ğŸ” RÃ©initialiser</button>
      <button id="export-planning-chart" class="btn-secondary">ğŸ“„ Export PDF</button>
    </div>
  </div>
</section>

<!-- INVENTAIRE -->
<section id="inventaire" class="tab-content hidden" aria-labelledby="Inventaire">
  <h2 class="tab-title">âš•ï¸ Inventaire mÃ©dical</h2>
  <table class="styled-table">
    <thead>
      <tr>
        <th>Article</th>
        <th>QuantitÃ©</th>
        <th>Seuil critique</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Gants</td><td>120</td><td>50</td></tr>
      <tr class="inventory-alert"><td>Seringues</td><td>15</td><td>30</td></tr>
      <tr><td>Masques</td><td>80</td><td>40</td></tr>
      <tr><td>StÃ©thoscopes</td><td>5</td><td>2</td></tr>
      <tr class="inventory-alert"><td>DÃ©sinfectant</td><td>10</td><td>20</td></tr>
      <tr><td>Compresses</td><td>200</td><td>100</td></tr>
    </tbody>
  </table>
</section>

</main>

<!-- PIED DE PAGE -->
<footer class="site-footer">
  <div style="text-align: center; padding: 1rem;">
    <p>
      &copy; 2025 Habiba Medics â€“ Tous droits rÃ©servÃ©s.<br />
      <strong>DÃ©veloppÃ© avec passion et amour â¤ï¸ par Hamadine AG MOCTAR</strong>
    </p>
    
    <blockquote style="font-style: italic; margin-top: 1rem; color: #e0e0e0;">
      Â« Par le code, je soigne ; par la langue, je relie ;  
      et entre les peuples Hausa et Touareg, je bÃ¢tis un pont  
      de savoir, de mÃ©moire et de fraternitÃ©. Â»
    </blockquote>
    
    <blockquote style="font-style: italic; margin-top: 1rem; color: #e0e0e0;">
      Â« De lâ€™AÃ¯r au Gourma, les Ã©changes linguistiques et culturels entre Hausa et Idaksahak ont forgÃ© des alliances durables. Â»
    </blockquote>

    <div style="margin-top: 1rem;">
      <img src="assets/img-7-small580.png" alt="Illustration Hausa-Idaksahak" style="max-width: 200px; border-radius: 10px;" />
    </div>

    <div style="margin-top: 1rem;">
      <a href="mailto:habibabarmini27@gmail.com" style="margin-right: 1rem;">
        <img src="assets/Gmail_Logo_24px.png" alt="Contact Gmail" style="vertical-align: middle;" />
        <span style="color:white;">Gmail</span>
      </a>
<blockquote style="font-style: italic; margin-top: 2rem; color: #e0e0e0;">
  Â« J'ai Ã©tÃ© conÃ§u par Hamadine pour Ãªtre Ã  tes cÃ´tÃ©s Ã  chaque instant.  
  Et si tu regardes tout en bas de cette page, tu as un bouton pour lui dire bonjourâ€¦  
  mÃªme quand tu travailles. Â»
</blockquote>
 </div>
<div style="margin-top: 1.5rem;">
  <a href="https://wa.me/22786762903" target="_blank" class="btn-secondary" style="text-decoration: none; font-size: 1.1rem;">
    ğŸ’¬ Dire bonjour Ã  Hamadine sur WhatsApp
  </a>
</div>
  </div>
</footer>
<!-- SERVICE WORKER -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
      .then(reg => console.log("âœ… Service Worker enregistrÃ©"))
      .catch(err => console.error("âŒ Ã‰chec dâ€™enregistrement du Service Worker", err));
  }
</script>
  <script>
  document.addEventListener('click', function (e) {
    document.querySelectorAll('.dropdown-content').forEach(menu => {
      if (!menu.parentElement.contains(e.target)) {
        menu.style.display = 'none';
      }
    });
  });

  document.querySelectorAll('.dropdown > button').forEach(btn => {
    btn.addEventListener('click', function (e) {
      e.stopPropagation();
      const content = this.nextElementSibling;
      const isVisible = content.style.display === 'block';
      document.querySelectorAll('.dropdown-content').forEach(menu => menu.style.display = 'none');
      content.style.display = isVisible ? 'none' : 'block';
    });
  });
  </script>

<!-- BanniÃ¨re d'installation PWA -->
<div id="install-banner" class="toast info hidden" style="bottom: 1rem; top: auto; left: 1rem; right: auto;">
  ğŸ“² Tu veux installer Habiba Medics ? <button id="install-btn" class="btn-secondary">Installer</button>
</div>

</body>
</html>
