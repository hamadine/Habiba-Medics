<!DOCTYPE html>
<html lang="fr" class="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Habiba Medics â€” Application mÃ©dicale complÃ¨te pour gestion de soins, patients, diagnostics, et outils cliniques" />
  <meta name="theme-color" content="#005fa3" />
  <title>ğŸ©º Habiba Medics</title>

  <!-- Favicon & Manifest -->
  <link rel="icon" href="assets/icon.png" type="image/png" />
  <link rel="manifest" href="manifest.webmanifest" />

  <!-- Feuilles de style -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="fonts/inter/inter.css" />

  <!-- Librairies JavaScript -->
  <script src="js/html2pdf.bundle.min.js" defer></script>
  <script src="js/chart.min.js" defer></script>
  <script src="js/app.js" defer></script>
</head>
<body>
  <!-- Bandeau supÃ©rieur -->
  <header class="site-header">
    <div class="container flex-header">
      <h1 class="logo">
        <span class="emoji-logo">ğŸ©º</span> Habiba Medics
      </h1>
      <button id="theme-toggle" aria-label="Basculer thÃ¨me" title="Basculer thÃ¨me">
        ğŸŒ™
      </button>
    </div>
  </header>

  <!-- Navigation principale -->
  <nav class="main-nav" role="navigation" aria-label="Menu principal">
    <ul class="nav-grid">
      <li><button data-target="accueil" class="nav-btn active" role="tab">ğŸ  Accueil</button></li>
      <li><button data-target="patients" class="nav-btn" role="tab">ğŸ‘¥ Patients</button></li>
      <li><button data-target="soins" class="nav-btn" role="tab">ğŸ’‰ Soins</button></li>
      <li><button data-target="planning" class="nav-btn" role="tab">ğŸ—“ï¸ Planning</button></li>
      <li><button data-target="inventaire" class="nav-btn" role="tab">âš•ï¸ Inventaire</button></li>
      <li><button data-target="gen-info" class="nav-btn" role="tab">ğŸ“‹ Infos gÃ©nÃ©rales</button></li>
      <li><button data-target="cli-info" class="nav-btn" role="tab">ğŸ©º Infos cliniques</button></li>
      <li><button data-target="notes" class="nav-btn" role="tab">ğŸ“ Notes</button></li>
    </ul>
  </nav>
  <main class="main-container">
  <!-- Notifications (toast) -->
  <div id="notification" class="toast hidden" role="status" aria-live="polite"></div>

  <!-- Conteneur de contenu principal -->
  <div id="content-area" class="tab-container">
    <!-- Accueil -->
    <section id="accueil" class="tab-content" aria-labelledby="Accueil">
      <h2 class="tab-title">ğŸ  Accueil</h2>
      <p class="quote">
        Â« Je nâ€™ai pas choisi la mÃ©decine, câ€™est elle qui mâ€™a choisi. Car parfois, ce nâ€™est pas nous qui entrons dans une vocationâ€¦ câ€™est la douleur des autres qui nous appelle. Â»
      </p>
    </section>
    <!-- Patients -->
    <section id="patients" class="tab-content hidden" aria-labelledby="Patients">
      <h2 class="tab-title">ğŸ‘¥ Patients</h2>
      <form id="form-patient" class="form-grid">

        <!-- IdentitÃ© -->
        <fieldset>
          <legend>IdentitÃ©</legend>
          <label for="patient_nom">Nom</label>
          <input type="text" id="patient_nom" required />
          
          <label for="patient_prenom">PrÃ©nom</label>
          <input type="text" id="patient_prenom" required />
          
          <label for="patient_naissance">Date de naissance</label>
          <input type="date" id="patient_naissance" required />
          
          <label for="patient_sexe">Sexe (M/F)</label>
          <input type="text" id="patient_sexe" maxlength="1" />
          
          <label for="patient_nationalite">NationalitÃ©</label>
          <input type="text" id="patient_nationalite" />
          
          <label for="patient_numero">NÂ° Dossier / ID</label>
          <input type="text" id="patient_numero" />
        </fieldset>

        <!-- Contact -->
        <fieldset>
          <legend>Contact</legend>
          <label for="patient_tel">TÃ©lÃ©phone</label>
          <input type="tel" id="patient_tel" />
          
          <label for="patient_email">Email</label>
          <input type="email" id="patient_email" />
          
          <label for="patient_adresse">Adresse</label>
          <input type="text" id="patient_adresse" />
        </fieldset>

        <!-- Informations administratives -->
        <fieldset>
          <legend>Informations administratives</legend>
          <label for="patient_assurance">Assurance</label>
          <input type="text" id="patient_assurance" />
          
          <label for="patient_num_secu">NÂ° SÃ©curitÃ© sociale</label>
          <input type="text" id="patient_num_secu" />
        </fieldset>

        <!-- Contact d'urgence -->
        <fieldset>
          <legend>Contact d'urgence</legend>
          <label for="contact_urgence_nom">Nom</label>
          <input type="text" id="contact_urgence_nom" />
          
          <label for="contact_urgence_tel">TÃ©lÃ©phone</label>
          <input type="tel" id="contact_urgence_tel" />
          
          <label for="contact_urgence_lien">Lien avec le patient</label>
          <input type="text" id="contact_urgence_lien" />
        </fieldset>

        <!-- Remarques -->
        <label for="patient_remarques">Remarques</label>
        <textarea id="patient_remarques" rows="3"></textarea>

        <button type="submit" class="btn-primary">ğŸ’¾ Enregistrer</button>
      </form>
    </section>
    <!-- Soins -->
    <section id="soins" class="tab-content hidden" aria-labelledby="Soins">
      <h2 class="tab-title">ğŸ’‰ Soins</h2>
      <form id="form-soins" class="form-grid">
        <label for="soin_type">Type de soin</label>
        <input type="text" id="soin_type" placeholder="Ex : Injection, pansement, etc." />

        <label for="soin_date">Date</label>
        <input type="date" id="soin_date" />

        <label for="soin_notes">Notes sur le soin</label>
        <textarea id="soin_notes" rows="3"></textarea>

        <button type="submit" class="btn-primary">ğŸ’¾ Ajouter</button>
      </form>
    </section>
    <!-- Planning -->
    <section id="planning" class="tab-content hidden" aria-labelledby="Planning">
      <h2 class="tab-title">ğŸ—“ï¸ Planning mÃ©dical</h2>

      <div class="form-grid">
        <label for="alarm-time">DÃ©finir une alarme</label>
        <input type="time" id="alarm-time" />

        <button id="set-alarm" class="btn-primary">â° Activer l'alarme</button>
      </div>

      <div class="chart-block">
        <canvas id="timerChart" height="180"></canvas>
        <div id="countdown" class="text-center countdown-display"></div>
        <div class="btn-group">
          <button id="start-timer" class="btn-green">â–¶ï¸ DÃ©marrer</button>
          <button id="reset-timer" class="btn-red">ğŸ” RÃ©initialiser</button>
          <button id="export-chart" class="btn-secondary">ğŸ“„ Export PDF</button>
        </div>
      </div>
    </section>
    <!-- Inventaire -->
    <section id="inventaire" class="tab-content hidden" aria-labelledby="Inventaire">
      <h2 class="tab-title">âš•ï¸ Inventaire mÃ©dical</h2>

      <table class="styled-table">
        <thead>
          <tr>
            <th>Article</th>
            <th>QuantitÃ©</th>
            <th>Seuil critique</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Gants</td><td>120</td><td>50</td></tr>
          <tr class="inventory-alert"><td>Seringues</td><td>15</td><td>30</td></tr>
          <tr><td>Masques</td><td>80</td><td>40</td></tr>
          <tr><td>StÃ©thoscopes</td><td>5</td><td>2</td></tr>
          <tr class="inventory-alert"><td>DÃ©sinfectant</td><td>10</td><td>20</td></tr>
          <tr><td>Compresses</td><td>200</td><td>100</td></tr>
        </tbody>
      </table>
    </section>
    <!-- Infos GÃ©nÃ©rales -->
    <section id="gen-info" class="tab-content hidden" aria-labelledby="Infos gÃ©nÃ©rales">
      <h2 class="tab-title">ğŸ“‹ Informations GÃ©nÃ©rales</h2>

      <form id="form-gen" class="form-block">
        <label for="nom">Nom</label>
        <input type="text" id="nom" class="input-field" />

        <label for="prenom">PrÃ©nom</label>
        <input type="text" id="prenom" class="input-field" />

        <label for="date_naissance">Date de naissance</label>
        <input type="date" id="date_naissance" class="input-field" />

        <label for="sexe">Sexe</label>
        <select id="sexe" class="input-field">
          <option value="">-- Choisir --</option>
          <option value="M">Masculin</option>
          <option value="F">FÃ©minin</option>
        </select>

        <label for="telephone">TÃ©lÃ©phone</label>
        <input type="tel" id="telephone" class="input-field" />

        <label for="email">Email</label>
        <input type="email" id="email" class="input-field" />

        <label for="adresse">Adresse</label>
        <input type="text" id="adresse" class="input-field" />

        <label for="groupe_sanguin">Groupe sanguin</label>
        <input type="text" id="groupe_sanguin" class="input-field" />

        <button type="submit" class="btn-primary">ğŸ’¾ Enregistrer</button>
      </form>
    </section>
    <!-- Infos Cliniques -->
    <section id="cli-info" class="tab-content hidden" aria-labelledby="Infos cliniques">
      <h2 class="tab-title">ğŸ©º DonnÃ©es Cliniques</h2>

      <form id="form-cli" class="form-block">
        <label for="temperature">TempÃ©rature (Â°C)</label>
        <input type="text" id="temperature" class="input-field" />

        <label for="frequence_cardiaque">FrÃ©quence cardiaque (bpm)</label>
        <input type="text" id="frequence_cardiaque" class="input-field" />

        <label for="tension">Tension artÃ©rielle (mmHg)</label>
        <input type="text" id="tension" class="input-field" />

        <label for="frequence_respiratoire">FrÃ©quence respiratoire (/min)</label>
        <input type="text" id="frequence_respiratoire" class="input-field" />

        <label for="saturation">Saturation en Oâ‚‚ (%)</label>
        <input type="text" id="saturation" class="input-field" />

        <label for="poids">Poids (kg)</label>
        <input type="text" id="poids" class="input-field" />

        <label for="taille">Taille (cm)</label>
        <input type="text" id="taille" class="input-field" />

        <label for="imc">IMC</label>
        <input type="text" id="imc" class="input-field" readonly />

        <button type="submit" class="btn-primary">ğŸ’¾ Sauvegarder</button>
      </form>
    </section>
    <!-- Soins -->
    <section id="soins" class="tab-content hidden" aria-labelledby="Soins">
      <h2 class="tab-title">ğŸ’Š Soins et Prescriptions</h2>

      <form id="form-soins" class="form-block">
        <label for="soin_type">Type de soin</label>
        <input type="text" id="soin_type" class="input-field" />

        <label for="soin_date">Date du soin</label>
        <input type="date" id="soin_date" class="input-field" />

        <label for="soin_notes">Observations / DÃ©tails</label>
        <textarea id="soin_notes" rows="4" class="input-field"></textarea>

        <button type="submit" class="btn-primary">ğŸ’¾ Ajouter le soin</button>
      </form>

      <div id="liste-soins" class="mt-4">
        <!-- Soins ajoutÃ©s dynamiquement -->
      </div>
    </section>
    <!-- Notes -->
    <section id="notes" class="tab-content hidden" aria-labelledby="Notes">
      <h2 class="tab-title">ğŸ“ Notes, Recherches & Aide IA</h2>

      <label for="notes-area" class="sr-only">Zone de notes</label>
      <textarea id="notes-area" rows="8" class="input-field mb-4" placeholder="Ã‰crivez ici vos observations, symptÃ´mes, commentaires..."></textarea>

      <div class="flex flex-wrap gap-4">
        <button id="save-notes" class="btn-primary">ğŸ’¾ Sauvegarder</button>
        <button id="google-search-notes" class="btn-secondary">ğŸ” Rechercher sur Google</button>
        <button id="search-symptoms" class="btn-warning">ğŸ§ª Analyser les symptÃ´mes</button>
        <button id="ask-gpt" class="btn-gpt">ğŸ¤– Interroger l'IA</button>
      </div>

      <div id="symptom-results" class="results-block"></div>
      <div id="gpt-response" class="results-block italic text-indigo-600 dark:text-indigo-300"></div>
    </section>
    
    <!-- Planning -->
    <section id="planning" class="tab-content hidden" aria-labelledby="Planning">
      <h2 class="tab-title">ğŸ—“ï¸ Planning & Suivi</h2>

      <label for="alarm-time">â° Heure dâ€™alarme</label>
      <input id="alarm-time" type="time" class="input-field" />

      <button id="set-alarm" class="btn-primary mt-2">ğŸ”” DÃ©finir une alarme</button>

      <div class="mt-6">
        <canvas id="timerChart" height="200" aria-label="Graphique du suivi"></canvas>
        <div id="countdown" class="countdown-display mt-2"></div>

        <div class="flex gap-4 mt-4">
          <button id="start-timer" class="btn-success">â–¶ï¸ DÃ©marrer</button>
          <button id="reset-timer" class="btn-danger">ğŸ” RÃ©initialiser</button>
          <button id="export-chart" class="btn-secondary">ğŸ“„ Export PDF</button>
        </div>
      </div>
    </section>
    </div> <!-- Fin de #content-area -->
</main>

<!-- Pied de page -->
<footer class="site-footer">
  <p>
    &copy; 2025 Habiba Medics â€“ Tous droits rÃ©servÃ©s. |
    <strong>DÃ©veloppÃ© avec â¤ï¸ par Hamadine</strong>
  </p>
</footer>

<!-- Service Worker -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').then(reg => {
      console.log("âœ… Service Worker enregistrÃ©");
    }).catch(err => {
      console.error("âŒ Ã‰chec dâ€™enregistrement du Service Worker", err);
    });
  }
</script>

</body>
</html>
